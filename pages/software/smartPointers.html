
<!DOCTYPE html>
<html>
<head>
  <title>Smart pointers</title>
  <meta name="Smart pointers" content="text/html; charset=utf-8;" />
  <script type="text/javascript" src="../../logbook.js"></script>

  <script src="../../logbook-mathjax-config.js" defer></script> 
  <script type="text/javascript" id="MathJax-script" defer
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/atom-one-light.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <link rel="stylesheet" type="text/css" href="../../logbook.css" />
</head>

<body onload="loadChapter('');">  

  <div data-type="titlepage" pdf="no">
    <header>
      <h1><a href="../../index.html" style="text-decoration:none;">Logbook</a></h1>
      <p style="font-size: 18px;"><a href="../../pages/bio/jjwt.html">Jayson Wynne-Thomas</a></p>
      <p style="font-size: 14px; text-align: right;"> 
        Last modified <span id="last_modified"></span>.</br>
        <script>
        var d = new Date(document.lastModified);
        document.getElementById("last_modified").innerHTML = d.getFullYear() + "-" + (d.getMonth()+1) + "-" + d.getDate();</script>
      </p>
    </header>
  </div>
  
  <div id="main" class="sidebar1">
    <span style="font-size:10px;cursor:pointer" onclick="openNav()">&#9776;</span>
  </div>

  <div id="mySidenav" class="sidebar">
  
<a href="#0">Overview</a>
</div>

<chapter style="counter-reset: chapter 1"><h1>Smart pointers</h1>
<section id="0"><h1>Overview</h1>
  When a smart pointer is no longer needed (which is the case as soon as it goes out of scope), the memory to which it points is automatically deallocated. In essence, smart pointers are classes that are wrapped around raw pointers. By overloading the <code>-></code> and <code>*</code> operators, it is possible to use smart pointers with the same syntax as raw pointers. As soon as a smart pointer goes out of scope, its destructor is called and the block of memory to which the internal raw pointer refers is properly deallocated. The technique of wrapping a management class (in other words an object of a class) around a resource that smart pointers build on is called <i>RAII</i>. 

  <p>
    With smart pointers, resource acquisition occurs at the same time that the object is initialised. In modern C++, raw pointers managed with new and delete should only be used in small blocks of code with limited scope, where performance is critical (such as with placement new) and ownership rights of the memory resource are clear. There are 3 types of smart pointers.
  </p>
</section>

<section><h1>Unique pointer</h1>
  <code>std::unique_ptr</code> is a smart pointer which exclusively owns a dynamically allocated resource on the heap. There must not be a second unique pointer to the same resource. Unique pointers are useful when working with a temporary heap resource that is no longer needed once it goes out of scope.
</section>

<section><h1>Shared pointer</h1>
  <code>std::shared_ptr</code> points to a heap resource but does not explicitly own it. There may even be several shared pointers to the same resource, each of which will increase an internal reference count. As soon as this count reaches zero, the resource will automatically be deallocated.
</section>

<section><h1>Weak pointer</h1>
  <code>std::weak_ptr</code> behaves similar to the shared pointer but does not increase the reference counter.
</section>
</chapter>

</body>
</html>
