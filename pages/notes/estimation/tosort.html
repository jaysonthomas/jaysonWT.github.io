
<!DOCTYPE html>
<html>
<head>
  <title>Estimation</title>
  <meta name="Estimation" content="text/html; charset=utf-8;" />
  <script type="text/javascript" src="../../../logbook.js"></script>

  <script src="../../../logbook-mathjax-config.js" defer></script> 
  <script type="text/javascript" id="MathJax-script" defer
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/atom-one-light.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <link rel="stylesheet" type="text/css" href="../../../logbook.css" />
</head>

<body onload="loadChapter('');">  

  <div data-type="titlepage" pdf="no">
    <header>
      <h1><a href="../../../index.html" style="text-decoration:none;">Logbook</a></h1>
      <p style="font-size: 18px;"><a href="../../../pages/bio/jjwt.html">Jayson Wynne-Thomas</a></p>
      <p style="font-size: 14px; text-align: right;"> 
        Last modified <span id="last_modified"></span>.</br>
        <script>
        var d = new Date(document.lastModified);
        document.getElementById("last_modified").innerHTML = d.getFullYear() + "-" + (d.getMonth()+1) + "-" + d.getDate();</script>
      </p>
    </header>
  </div>
  
  <div id="main" class="sidebar1">
    <span style="font-size:10px;cursor:pointer" onclick="openNav()">&#9776;</span>
  </div>

  <div id="mySidenav" class="sidebar">
  
<a href="#0">Introduction</a>
<ul class="no-bullets">
  <li><a href="#0.0">Definition</a></li>
  <li><a href="#0.1">The need for estimation</a></li>
  <li><a href="#0.2">Applications</a></li>
  <li><a href="#0.3">How to create an estimator</a></li>
</ul>
<a href="#1">The problem of control with noisy measurements</a>
<a href="#2">Musings</a>
</div>

<chapter style="counter-reset: chapter 0"><h1>Estimation</h1>
<section id="0"><h1>Introduction</h1>
  <subsection id="0.0"><h1>Definition</h1>
    The goal of estimation is to come up with an estimate $\hat{x}$ for some unknown state $x$, both of which are vectors. Estimation:
    <ul>
      <li>Is a temporal process - things need to be integrated over time.</li>
      <li>
        It's a process of managing uncertainty. It is not 100% certain to know where an object is for example.
      </li>
    </ul> 
  </subsection>

  <subsection id="0.1"><h1>The need for estimation</h1>
    To quantify uncertainty. The goal is to make a very tight distribution, 
    so that a robot is more certain of its state.
    The real world (bot and environment) is uncertain in the following ways:
    <ul>
      <li>
        It is stochastic. The effect of actions can have 
        uncertain outcomes due to intrinsic or extrinsic factors.
      </li>
      We might intend for a vehicle to follow a certain path, but it might
      get blown to one side by a gust of wind or suddenly stop working.
      This change in state is a source of uncertainty, we never know when it's 
      going to happen.
      <br><br>

      <li>
        It is only partially observable. There is uncertainty about 
        the current state of the world.
      </li>
      Where is the vehicle? What's behind that building over there? We can't
      know everything about the world.
    </ul>
  </subsection>

  <subsection id="0.2"><h1>Applications</h1>
    We only need sensor feedback if we want the drone to be autonomous. 
    To be autonomous, the robot needs to know the following (RHS of table). 
    Estimation plays a role in all these problems.
    <p><table class="table1 center">
      <tr>
        <th>Type of problem</th>
        <th>Knowledge of</th>
      </tr>
      <tr>
        <td>Localisation, navigation</td>
        <td>
          Itself
          <br>
          Where the vehicle is, its attitude  
          <br>
          How fast it's going
          </td>
      </tr>
      <tr>
        <td>Mapping</td>
        <td>
          The environment
          <br>
          What is around me?
        </td>
      </tr>
      <tr>
        <td>Tracking</td>
        <td>
          Others
          <br>
          Where are the other vehicles?
          <br>
          How fast are they going?
        </td>
      </tr>
    </table></p>
    E.g. estimation is what makes GPS work so well, Apollo spacecraft, 
    how the phone screen orients itself.
  </subsection>

  <subsection id="0.3"><h1>How to create an estimator</h1>
    We use <code>Bayes rule</code> which is a method:
    <ul>
      <li>To integrate data over time</li>
      <li>
        To take multiple sources of information, and come up with a distribution 
        that is the best reflection of what the state might be
      </li>
    </ul>
    Bayes rule relies on probability at its core to quantify uncertainty.
    There are other ways, such as confidence scores, fuzzy logic etc.
  </subsection>
</section>

<section id="1"><h1>The problem of control with noisy measurements</h1>
  We can capture the imperfections in a sensor using a <i>measurement model</i> which tells us $p(z|x)$:

  <p>
    $p(z|x)$ - The likelihood of making measurement $z$ given that we're in state $x$. Often, these measurement models are Gaussian. The most likely measurement is centred on the true value of whatever the sensor measures with some covariance.
  </p>

  We respect the <i>Markov Assumption</i> when our updated estimate only depends on the current observation and the previous estimate, i.e. it doesn't depend on all the previous observations used to find the previous estimate. 

  <p>
    We can use recursive averaging to compute the estimate. Recursive averaging would be better than taking batch averages because it requires less memory and we don't have to wait till we have all the measurements to make an estimate. But as $t$ gets bigger, new measurements are going to cause the estimate to change less and less, i.e. make the system less responsive. This method would be bad for a drone that hovers in place for a long time and then decides to move. The motion would take a long time to get incorporated into the estimate.
  </p>  

  $$\begin{align*}
    \hat{x}_t &= f(\hat{x}_{t-1}, z_t) \\
    \hat{x}_t &= \frac{t-1}{t}\hat{x}_{t-1} + \frac{1}{t}z_t
  \end{align*}$$
  
  A better technique would be the <i>exponential moving average</i>:

  $$\begin{align*}
    &\hat{x}_t = (\alpha)\hat{x}_{t-1} + (1-\alpha)z_t \quad\quad 0 \leq \alpha \leq 1
  \end{align*}$$

  <p>
    $x_t$ is the unknown state at timestep $t$. For a 1D drone, the state contains 2 elements: $x_t = \begin{bmatrix}z \\ \dot{z} \end{bmatrix}$
    <br>
    $\hat{x}_t$ is the estimate of the state at time $t$.
    <br>
    $z_t$ represents an observation or the measurement that we get at timestep $t$.
  </p>

  With exponential moving average, we have to make a trade-off (Imagine the drone-hover-then-move example and not just in terms of stationary measurements with small changes). If $\alpha$ is close to 1, i.e. $\alpha \approx 1$:
  <ul>
    <li>Trust previous estimate over new observations</li>
    <li>Robust against bad measurements</li>
    This leads to smooth estimates of state, which is good if the state actually is smooth. But when the state is not constant, this breaks down and the estimate is slow to respond to new measurements.
    <p>
      <li>Not responsive for fast motion</li>
    </p>
  </ul>

  If $\alpha \approx 0$:
  <ul>
    <li>Trust measurements over previous estimate</li>
    <li>Responsive to state changes</li>
    <li>Not robust against bad measurements</li>
  </ul>
</section>

<section id="2"><h1>Musings</h1>
  <ul>
    <li>Normalisation of data</li>
    <a href="https://t.ly/C0lw">Ref1</a>, 
    <a href="https://t.ly/q8JJ">Ref3</a>.
    <li>Absolute vs relative tolerance</li>
  </ul>

  <a href="https://t.ly/WRZn">Great resource</a> on Kalman and bayesian filters. There is also an introduction to statistics course on Udacity.
</section>

</chapter>

</body>
</html>
