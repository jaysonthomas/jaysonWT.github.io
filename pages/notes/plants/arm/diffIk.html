
<!DOCTYPE html>
<html>
<head>
  <title>Arm: Differential Inverse Kinematics</title>
  <meta name="Arm: Differential Inverse Kinematics" content="text/html; charset=utf-8;" />
  <script type="text/javascript" src="../../../../logbook.js"></script>

  <script src="../../../../logbook-mathjax-config.js" defer></script> 
  <script type="text/javascript" id="MathJax-script" defer
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/atom-one-light.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <link rel="stylesheet" type="text/css" href="../../../../logbook.css" />
</head>

<body onload="loadChapter('');">  

  <div data-type="titlepage" pdf="no">
    <header>
      <h1><a href="../../../../index.html" style="text-decoration:none;">Logbook</a></h1>
      <p style="font-size: 18px;"><a href="../../../../pages/bio/jjwt.html">Jayson Wynne-Thomas</a></p>
      <p style="font-size: 14px; text-align: right;"> 
        Last modified <span id="last_modified"></span>.</br>
        <script>
        var d = new Date(document.lastModified);
        document.getElementById("last_modified").innerHTML = d.getFullYear() + "-" + (d.getMonth()+1) + "-" + d.getDate();</script>
      </p>
    </header>
  </div>
  
  <div id="main" class="sidebar1">
    <span style="font-size:10px;cursor:pointer" onclick="openNav()">&#9776;</span>
  </div>

  <div id="mySidenav" class="sidebar">
  
<a href="#0">Description</a>
<a href="#1">Geometric jacobian</a>
<a href="#2">Inverse Jacobian</a>
</div>

<chapter style="counter-reset: chapter 3"><h1>Arm: Differential Inverse Kinematics</h1>

<section id="0"><h1>Description</h1>
  To achieve smoothness when moving between joint angles, instead of IK, the differential form of the kinematics is used. <i>Differential IK</i> helps in figuring out the necessary incremental change in $q$ to achieve a desired (known) small/incremental change in a pose in a certain direction. Differential IK isn't defined perfectly everywhere but partial derivatives exist everywhere. 

  $$\begin{align*}
    \underbrace{dX^B}_{\text{Incremental change} \atop \text{in pose}} &= 
    \frac{\partial{f^B}(q)}{\partial{q}}
    
    \underbrace{dq}_{\text{Incremental change} \atop \text{in joint angle}} \\

    \underbrace{V^B}_{\text{Spatial} \atop \text{velocity}} 
    &= \underbrace{J^B(q)}_{\text{Jacobian}} \quad \dot{q} \\

  \end{align*}$$ 

  The Jacobian is a function of the current joint angles. 
</section>

<section id="1"><h1>Geometric jacobian</h1>
  A geometric jacobian is always a function of $q$. It is a position dependent matrix.

  <p>
    Since there are different ways of representing $q$ and $X$, there are different possible Jacobians to determine how to go from joint angles/velocities to some spatial velocity. Because of say the quaternion representation, a joint position vector $q$ is often bigger than a joint velocity vector. A spatial joint velocity only needs 6 numbers; hence, joint velocities won't always directly equal $\frac{dq}{dt}$ because of the choice of representation. It is possible to map between them though. 
  </p>

  A <i>geometric jacobian</i> takes joint velocities and maps that to spatial velocity vectors. It is $\frac{\partial{f^B}(q)}{\partial q}$ plus any change of coordinates into the spatial vectors. <i>Analytic jacobian</i> on the other hand, is the true partial derivative. It is not recommended as much. 
</section>

<section id="2"><h1>Inverse Jacobian</h1>
  $$
    \dot{q}_{\scriptscriptstyle{7 \times 1}} = 
    [J^B_{\scriptscriptstyle{6\times{7}}}(q)]^{-1} 
    V^B_{\scriptscriptstyle{6\times{1}}}
  $$
  The matrix dimensions are written for iiwa where there are 7 joints and hence 7 $\dot{q}$s. The problem with simply taking the inverse of a jacobian is that in most cases, a jacobian is not a square matrix and it is not possible to take the inverse of a non-square matrix. Hence, this equation is only a conceptual representation.
</section>

</chapter>

</body>
</html>
